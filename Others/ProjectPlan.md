# 作成するゲームの企画書
* ストーリー案 \
**ゲーム世界観：失われた構文とコードの国**\
概要 プログラムによって動く不思議な世界が舞台。人々は「コードの構文」を使って生活していたが、あるとき突如その“文法”が世界から失われてしまう。主人公は「関数職人」見習いとして、村人の困りごとを解決しながら、構文をひとつずつ取り戻していく旅に出る。\
世界はファンタジーっぽい世界(見本が多いため)．(余裕があったら2マップ目で近代風？)

* 構成\
if文 : 住人が隣に壊れてない橋があるのに，手前の壊れてる橋で立ち往生し大渋滞．道具IF分を使って条件分岐を作成して渋滞解消．\　
for文 : 無限に草むしりをするおばあさんが登場．for文を用いた自動草むしり装置を作成しクエストクリア \
while : for文が禁止された状況で，パスワード解除が必要なイベント発生．一つずつ手打ちは無理なのでwhileで探索 \
ほかにも基本的な構文から作成したい．禁止された構文が使用されるとundefinedエラーが出るようにする．
  
* ゲームとしての流れ
変数に見立てた箱(アイテム)を用意しそれを使用する形にする．その変数の箱はゲーム内のコンビニで入手可能．ゲーム内通貨はゲーム内のミニゲーム等で入手可能．\
コードを作る部分はサブクエスト的にストーリーラインとは別に作ってもよい．それのクリアでゲーム内通貨が手に入るようにした方が良いはず．\
例えば，以下のような形．\
ifをメインで使うステージ，forをメインで使うステージ，というように，マップをいくつか用意しておいて，各マップに入ったときに最初にイベントでチュートリアル問題を出して，それをクリアすることでそのマップでメインとなる構文を開放．\
その後，獲得した構文を使って解ける問題を，そのエリア内に配置されている(あるいは過去のエリアに配置してあった)問題群をクリアすることで，ゲーム内通貨を報酬として獲得．同時に，一定数の問題を解決することで，各エリアの村人たちから次のマップへの移動を助けてもらえるようになって，次のエリアへの移動手段を開放できる(村人の持っている車や船なんかに乗せてもらえるようになる)ようにする．\
これを繰り返すことで，特定の構文に対するチュートリアル→それを用いた実践的な問題や他の構文との組み合わせを主眼にした問題という構成を作りやすい．\
最終問題的なものを作りにくい構成なので，単純に報酬量を難易度によって分けるとか，チャレンジステージ的な要素を用意するとか，少し特殊な扱いにしなければならないか．難易度の高い問題の追加には課題が残る．\

例:上記if文の例なら，大渋滞を解決するのはチュートリアル(バスでエリア移動しているのに，大渋滞で移動中に足止めを食らって，解決しないと，という状況に陥るなど)．それを解決した後のマップでは，両手に持った商品のどっちを買うかを決められない村人とか，汗だくなのに水を飲まないでいる村人とか，とにかく条件づけができていないことによって「困っている」人々を配置．助けることでお礼を貰い，また，村人と仲良くなって次のマップへと連れて行ってもらえる．その移動中にまた次のマップで主題とする構文のチュートリアル的な問題が起きて，というような繰り返しの構成．

* 改案\
マップを一つにまとめるとやりやすい(複数作らなくて済んで楽)．
→道具屋のような地点で構文を入手することで，それを使用する問題を開放する形式で作成すれば，複数マップが不要．
チュートリアル問題は購入時点でやるようにする．
購入するためのアイテムを問題を解くことで貰えるような形にすればいい．
コイン不足みたいなことが起きることを考える場合は，総報酬量>総必要量になるようにしつつ，各構文で次のいずれかの構文が買える報酬量にすればいいはず．
道具屋とかコンビニみたいなものでもいいけど，例えば博士的なポジションのNPCを作って，その人に研究費用(開発費用)を渡すことで構文を作ってもらえる，とかでもいいかも．

* 検討\
単純にラストステージを難しい問題をいくつか置いておき，一定数クリアして報酬を使用することで，最終問題に挑戦できるという形が良いか？\
ミニゲームのプレイはゲームの攻略において必須にならない方がいい(現状確実にやるとも限らないので，後付けできる位置にあったほうがいいのではないか)．\
ストーリーで関数が手に入るときはそれの使い方がメインになる問題が出ると思うが，その手に入った関数を使う問題は複数あった方がいいはず．\
ストーリー上のボスみたいな枠の問題は難しくていいと思うが，それに至るまでの考え方の導線になるようなのがいい．\
  
ミスしたら変なことが起きたり……？\

* ミニゲームを実装するなら\
クエスト完了後使用済みの変数の箱が手持ちに残るようにする．それらの箱をたくさん持っていると動きが遅くなる．近くのfree()というゴミ箱で廃棄可能．\
ミニゲームを実装するなら，こういったゲームとしては「面倒」なことを緩和できるようにする枠にする．やらないといけないモノにはしない．\
例えば，ミニゲームの報酬を「ガベージコレクション」にして自動でこのゴミを廃棄してくれるようにする，という感じ．\

* 必要な画面と要求したい機能\
タイトル画面:ニューゲーム，コンテニュー，オプション\
マップ画面:エリア変更のファストトラベル\
各ステージの画面:横スクロールのメイン部分．村人との会話機能\
プログラミングを行う画面:所有アイテムが反映されるシステム，ビジュアルプログラミングのできる環境\
インベントリやショップを操作するポップアップウィンドウか，専用の画面:ゲーム内通貨やアイテムの売買，使用\

* Scrapboxより転記\
具体的な企画\
横スクロール→見下ろし\
チュートリアル\
お店がありそこで関数を買い→その時にチュートリアル\
一番最初に簡単な構文・関数をもらう(printf)\

画像\
現代？古代？余裕があったらマップ追加も検討\
　マップ（キャラ，アイテム（時間延長，ヒント）\
☑古代→家，道具屋，木，岩，師匠，松明\
現代→ビル，コンビニ，木，博士）\
　問題（クエスト）をするとき（キャラ，問題画面，背景デザイン（コード））	\
　問題が出ていることがわかるポップアップ(吹き出しマークとか)\

道具屋販売表（コインで売買）\
　構文\
　アイテムorキャラの追加（特殊能力）（時間延長，ヒント（ユーモアな名前考える），使える構文の追加）\

問題（クエスト）内容\
　チュートリアル→問題（使える構文の個数に制限をかける？）\
　構文ブロックを用いて空欄に当てはめる\
　クリア後コインを入手（収入＞支出）\
　何ステージ（困っている人）かを用意\
　悪事（構文を盗む）をする人を目撃＆対峙\
　最後に悪事の発起人である黒幕と対峙→使える構文をロック\

ミニゲーム\
　キャラ追加イベントを発生させる\
　　問題に入ったときにキャラ（特殊能力持ち）選択できる\

（隠し要素余裕あれば）\
　主人公のみでクリアすると特別な勲章がもらえる\

ストーリー\
　主人公→プログラムに苦戦している少年\
　バグの対処に苦戦してパソコンを眺めていたら吸い込まれてしまう\
　プログラムで世界が動く不思議の国へ」←ここまで紹介動画\
　紹介動画(もしくはオープニングムービー的なの)がゲーム内のタイトル画面に行くまでに仕込めたらいいかも\
　その世界で困っている人や街をプログラムの知識を使って救う→構文を盗まれて世界が混乱\
　初期状態→printfを拾う\

 
* フロントエンド\
横スクロール．荒廃した建物が並び，初期地点にはコンビニとゲームセンター，初めのクエストがある．クエストクリアするごとに先に進める．\
参考 : https://store.steampowered.com/app/971680/Montaro_RE/?l=japanese 

* プログラミング\
js,html 結構大変

* 画像\
登場人物，建物，背景，．．．etc 一番大変かも複数人がいいかも

* 音楽 \
BGM, プログラミン中のBGM, etc
